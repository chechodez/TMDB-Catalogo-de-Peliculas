{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/chech/OneDrive/Escritorio/angular/myApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nconst consultaApi = (page = 1, language = 'en-US') => {\n  const response = axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=98fff0cbf18bdf9d7a0badc4bf658187&language=${language}&page=${page}`);\n  //if statement checking response code\n  return response;\n};\nconst consultaApi2 = (language = 'en-US') => {\n  const response = axios.get(`https://api.themoviedb.org/3/genre/movie/list?api_key=98fff0cbf18bdf9d7a0badc4bf658187&language=${language}`);\n  //if statement checking response code\n  return response;\n};\nexport class AppComponent {\n  constructor() {\n    var _this = this;\n    this.pagina = 1;\n    this.response = {\n      \"results\": [{\n        \"adult\": '',\n        \"genre_ids\": '',\n        \"original_language\": '',\n        \"original_title\": '',\n        \"overview\": '',\n        \"popularity\": '',\n        \"poster_path\": '',\n        \"release_date\": '',\n        \"title\": '',\n        \"vote_average\": '',\n        \"vote_count\": ''\n      }]\n    };\n    this.response2 = {\n      \"genres\": [{\n        \"id\": \"0\",\n        \"name\": ''\n      }]\n    };\n    //response = consultaApi(1).then(function (data) { console.log(data); return data })\n    this.siguiente = /*#__PURE__*/_asyncToGenerator(function* () {\n      _this.pagina += 1;\n      _this.response = yield consultaApi(_this.pagina).then(function (data) {\n        return data.data;\n      });\n      console.log(_this.response);\n      _this.renderizarPagina();\n    });\n    this.anterior = /*#__PURE__*/_asyncToGenerator(function* () {\n      _this.pagina == 1 ? _this.pagina = 1 : _this.pagina -= 1;\n      _this.response = yield consultaApi(_this.pagina).then(function (data) {\n        return data.data;\n      });\n      console.log(_this.response);\n      _this.renderizarPagina();\n    });\n    this.renderizarPagina = () => {\n      console.log(this.response);\n      //logica para renderizar\n      for (let i = 0; i < this.response.results.length; i++) {\n        let adult = this.response.results[i].adult;\n        let genre_ids = this.response.results[i].genre_ids;\n        let original_language = this.response.results[i].original_language;\n        let original_title = this.response.results[i].original_title;\n        let overview = this.response.results[i].overview;\n        let popularity = this.response.results[i].popularity;\n        let poster_path = this.response.results[i].poster_path;\n        let release_date = this.response.results[i].release_date;\n        let title = this.response.results[i].title;\n        let vote_average = this.response.results[i].vote_average;\n        let vote_count = this.response.results[i].vote_count;\n        var xd;\n        var mtz = [];\n        for (let j = 0; j < genre_ids.length; j++) {\n          for (let k = 0; k < this.response2.genres.length; k++) {\n            if (genre_ids[j] == this.response2.genres[k].id) {\n              xd = this.response2.genres[k].name;\n            }\n          }\n          mtz.push(xd);\n        }\n        const article = document.createRange().createContextualFragment( /*html*/`\n          <article>\n                  <div class=\"image-container\">\n                      <img src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"Personaje\" />\n                  </div>\n                  <h2>${title}</h2>\n                      <span>${overview}</span>\n                          <br />\n                    <font face=\"Comic Sans MS,Arial,Verdana\">+18:  ${adult}</font>\n                        <br />\n                     <font face=\"Comic Sans MS,Arial,Verdana\">Genre ID's:  ${mtz}</font>\n                         <br />\n                            <font face=\"Comic Sans MS,Arial,Verdana\">Original Languaje: ${original_language}</font>\n                                <br />\n                                    <font face=\"Comic Sans MS,Arial,Verdana\">Original Title: ${original_title}</font>\n                                        <br />\n                                        <font face=\"Comic Sans MS,Arial,Verdana\">Popuplarity: ${popularity}</font>\n                                        <br />\n                                            <font face=\"Comic Sans MS,Arial,Verdana\">Release Date:  ${release_date}</font>\n                                                <br />\n                                                <font face=\"Comic Sans MS,Arial,Verdana\">Vote average ${vote_average}</font>\n                                                    <br />\n                                                    <font face=\"Comic Sans MS,Arial,Verdana\">Vote count ${vote_count}</font>\n              </article>`);\n        document.getElementById(\"mainsito\").innerHTML = '';\n        const main = document.querySelector(\"main\");\n        main.append(article);\n      }\n    };\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)();\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 10,\n  vars: 0,\n  consts: [[3, \"click\"], [\"id\", \"mainsito\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"body\")(1, \"div\")(2, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_2_listener() {\n        return ctx.anterior();\n      });\n      i0.ɵɵtext(3, \"Anterior\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_4_listener() {\n        return ctx.siguiente();\n      });\n      i0.ɵɵtext(5, \"Siguiente\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"h1\");\n      i0.ɵɵtext(7, \"Pel\\u00EDculas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"main\", 1);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(9, \"router-outlet\");\n    }\n  },\n  dependencies: [i1.RouterOutlet],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\", \"*[_ngcontent-%COMP%]{\\n      margin:0;\\n      padding:0;\\n      box-sizing:border-box;\\n  }\\n  h1[_ngcontent-%COMP%]{\\n      text-align: center;\\n  }\\n  button[_ngcontent-%COMP%] {\\n    background-color: #4CAF50; \\n    border: none;\\n    color: white;\\n    padding: 15px 32px;\\n    text-align: center;\\n    text-decoration: none;\\n    display: inline-block;\\n    font-size: 16px;\\n}\\n\\n  main[_ngcontent-%COMP%]{\\n      display:grid;\\n      grid-template-columns: 1fr 1fr 1fr;\\n      gap: 18px;\\n  }\"]\n});","map":{"version":3,"mappings":"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","names":["axios","consultaApi","page","language","response","get","consultaApi2","AppComponent","constructor","pagina","then","data","console","log","renderizarPagina","i","results","length","adult","genre_ids","original_language","original_title","overview","popularity","poster_path","release_date","title","vote_average","vote_count","xd","mtz","j","k","response2","genres","id","name","push","article","document","createRange","createContextualFragment","getElementById","innerHTML","main","querySelector","append","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\chech\\OneDrive\\Escritorio\\angular\\myApp\\src\\app\\app.component.ts","C:\\Users\\chech\\OneDrive\\Escritorio\\angular\\myApp\\src\\app\\app.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport axios from 'axios';\n\nconst consultaApi = (page = 1, language = 'en-US') => {\n  const response = axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=98fff0cbf18bdf9d7a0badc4bf658187&language=${language}&page=${page}`)\n  //if statement checking response code\n  return response;\n}\n\nconst consultaApi2 = (language = 'en-US') => {\n  const response = axios.get(`https://api.themoviedb.org/3/genre/movie/list?api_key=98fff0cbf18bdf9d7a0badc4bf658187&language=${language}`)\n  //if statement checking response code\n  return response;\n}\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\n\nexport class AppComponent {\n\n  pagina = 1\n  response = {\"results\":[{\"adult\":'',\"genre_ids\":'',\"original_language\":'',\"original_title\":'',\"overview\":'',\"popularity\":'',\"poster_path\":'',\"release_date\":'',\"title\":'',\"vote_average\":'',\"vote_count\":'',}]}\n  response2={\"genres\":[{\"id\":\"0\",\"name\":''}]}\n  \n  //response = consultaApi(1).then(function (data) { console.log(data); return data })\n\n  siguiente = async () => {\n    \n    this.pagina += 1\n    this.response = await consultaApi(this.pagina).then(function (data) { return data.data })\n    console.log(this.response)\n    this.renderizarPagina()\n  }\n  anterior = async () => {\n    this.pagina == 1 ? this.pagina = 1 : this.pagina -= 1\n    this.response = await consultaApi(this.pagina).then(function (data) { return data.data })\n    console.log(this.response)\n    this.renderizarPagina()\n  }\n\n  renderizarPagina = () =>{\n    console.log(this.response)\n    //logica para renderizar\n    \n\n\n\n    for (let i = 0; i < this.response.results.length;i++) {\n      let adult = this.response.results[i].adult;\n      let genre_ids = this.response.results[i].genre_ids;\n      let original_language = this.response.results[i].original_language;\n      let original_title = this.response.results[i].original_title;\n      let overview = this.response.results[i].overview;\n      let popularity = this.response.results[i].popularity;\n      let poster_path = this.response.results[i].poster_path;\n      let release_date = this.response.results[i].release_date;\n      let title = this.response.results[i].title;\n      let vote_average = this.response.results[i].vote_average;\n      let vote_count = this.response.results[i].vote_count;\n\n      var xd;\n\n      var mtz=[];\n      \n      for (let j = 0; j < genre_ids.length; j++) {\n      for(let k=0;k<this.response2.genres.length;k++){\n                   if(genre_ids[j]== this.response2.genres[k].id){\n                          xd= this.response2.genres[k].name\n          }\n          \n      }\n                  mtz.push(xd)\n      }\n\n      const article = document.createRange().createContextualFragment(/*html*/`\n          <article>\n                  <div class=\"image-container\">\n                      <img src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"Personaje\" />\n                  </div>\n                  <h2>${title}</h2>\n                      <span>${overview}</span>\n                          <br />\n                    <font face=\"Comic Sans MS,Arial,Verdana\">+18:  ${adult}</font>\n                        <br />\n                     <font face=\"Comic Sans MS,Arial,Verdana\">Genre ID's:  ${mtz}</font>\n                         <br />\n                            <font face=\"Comic Sans MS,Arial,Verdana\">Original Languaje: ${original_language}</font>\n                                <br />\n                                    <font face=\"Comic Sans MS,Arial,Verdana\">Original Title: ${original_title}</font>\n                                        <br />\n                                        <font face=\"Comic Sans MS,Arial,Verdana\">Popuplarity: ${popularity}</font>\n                                        <br />\n                                            <font face=\"Comic Sans MS,Arial,Verdana\">Release Date:  ${release_date}</font>\n                                                <br />\n                                                <font face=\"Comic Sans MS,Arial,Verdana\">Vote average ${vote_average}</font>\n                                                    <br />\n                                                    <font face=\"Comic Sans MS,Arial,Verdana\">Vote count ${vote_count}</font>\n              </article>`\n\n         );\n\n         document.getElementById(\"mainsito\")!.innerHTML=''\n         \n         const main: HTMLElement | null = document.querySelector(\"main\");\n         \n         main!.append(article);\n\n  }\n\n  }\n}","<style>\n  *{\n      margin:0;\n      padding:0;\n      box-sizing:border-box;\n  }\n  h1{\n      text-align: center;\n  }\n  button {\n    background-color: #4CAF50; /* Green */\n    border: none;\n    color: white;\n    padding: 15px 32px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    font-size: 16px;\n}\n\n  main{\n      display:grid;\n      grid-template-columns: 1fr 1fr 1fr;\n      gap: 18px;\n  }\n\n\n</style>\n\n<body>\n  <div>\n\n  <button (click)=\"anterior()\" >Anterior</button>\n  <button (click)=\"siguiente()\" >Siguiente</button>\n\n  <h1>Películas</h1>\n  <main id=\"mainsito\">\n\n\n  </main>\n\n  </div>\n</body>\n\n\n<router-outlet></router-outlet>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}